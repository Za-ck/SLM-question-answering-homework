# 交互界面使用说明

本课题选定以翻译工具的形式展现工作成果，即通过输入框收集待分析的“英语-印地语”混合语码语句，而后将其传输至预训练模型进行分析，最后将经过识别标注后的语句传回前端，在输出框内显示。

## 环境依赖

- paramiko：python端ssh工具，用于与服务器连接并控制模型计算。
- 浏览器：需要用到ActiveX控件，建议使用edge或其他支持ie内核的浏览器。

## 代码文件

- ner.html & ui1.css ：前端网页文件及其样式文件
- call_ner_hineng.py ：后端python脚本文件，用于处理数据以及调用模型
- bash_paramiko.py ：用于与服务器交互，包括收发文件及控制远端模型计算
- do_json.py ：用于规格化输入输出文件

## 前后端设计

### 前端设计

- 交互界面主体可分为两部分，一是左侧待分析语句输入部分，二是右侧分析与结果反馈部分。
- 在输入部分，用户在文本框内键入语句，并点击“传递数据”按钮，前端将待分析语句生成文本文件并存储，以便后端程序分析使用。需要注意的是，为了提高识别的准确性，在输入时每个独立词项（包括标点符号）前后均需留有空格。
- 在分析部分，用户首先需要点击“进行分析”按钮调起后端分析程序，待分析完成后，点击“获取分析结果”按钮，即可在右侧文本框内看到进行命名实体识别标注后的语句。

### 后端设计

- 后端的主要任务是打通模型与用户界面间的壁垒，将用户想要分析的语句传输到模型，再将模型分析后的结果反馈给用户。在前端生成输入语句的文本文件后，便调起运行后端程序的脚本。
- 本项目提供了两种调用模型的方式，一种是调用本地模型，另一种是调用服务器上存储的模型。调用本地模型时，将输入文件转化为与模型输入对应的格式，并运行脚本进行分析。分析结束后，读取存储在本地的输出文件，将命名实体识别结果与输入语句中词项对应标注，并返回最终期望的输出文本。
- 调用服务器端模型时，首先在本地通过命令将规格化的输入文件传输到服务器端，之后再使用paramiko通过ssh连接控制模型计算，最后可通过服务器回传的方式得到输出结果，与使用本地模型一样，对照输入文本对词项进行命名实体标注。


## 操作说明

- 将待分析语句输入到左侧文本框中
- 点击“传递数据”，将输入文本存储到本地
- 点击右侧第一个按钮，“进行分析”按钮，调起服务器端模型，完成分析运算
  - 注：此步需处于IE模式下，才能激活ActiveX控件
- 点击右侧第二个按钮，“获取分析结果”按钮，将结果显示在文本框中